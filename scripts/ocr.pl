#!/usr/bin/perl -l

print ocr(<<TPJ);
 #  # # ## ##  ## ##  #    #  #  # # ##  #  #  #  #
### # # #  # # #  # # #    # # # # # # # ## # # # #
 #  ### ## ##  ## ##  #    # # # # # ##  # ## ### #
 #  # # #  #   #  # # #  # # # # # # # # #  # # # #
 #  # # ## #   ## # # ## ###  #  ### # # #  # # # ##
TPJ

sub ocr{
  @{$-[$@++]}=split$,for(split'\n',shift);
  for $@ (0..4) {
    for(0..51) {
      ++$_{$_} if ($-[$@][$_]=~$")
    }
  }
  @&=(-1);
  for (sort{$a<=>$b}keys%_) {
    push@&,$_ if($_{$_}>4)
  }
  push@&,52;
  for $@ (0..13) {
    @{$|[$@][$_]}=@{$-[$_]}[$&[$@]+1..$&[$@+1]-1] for (0..4)
  } for(@|) {
    **=$_;
    $w=@{$*[$^=$$=0]}-1;
    for $@ (0..4) {
      for(1..$w) {
        $^++ if $*[$@][$_] ne $*[$@][$_-1]
      }
    } for(0..$w) {
      for$@(1..4) {
        $$++ if $*[$@][$_] ne $*[$@-1][$_]
      }
    }
     for(0..20) {
       push@
     },chr$_+65 if (7*(8,4,2,9,2,3,7,8,1,$@,5,4,9,10,10,6,3,8,4,8,8)[$_]
       +(5,8,3,3,4,2,1,2,8,2,7,1,5,4,6,$@,3,6,8,4,1)[$_]==7*$^+$$)
   }
}@}}
